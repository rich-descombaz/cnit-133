<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CNIT 133 - Homewod 2 - Student Grades</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  </head>
  <body>
    
    
    <div class="container" style="padding: 10px;">
        <h1>Homeword 3 - Part 2</h1>
        <form>
        
        <div class="row" style="padding: 5px;;">
            <div class="col" > <label>Seller's Name : </label>
                <input id="sellersName"  title="Be sure to spell users name correctly."></div>
        </div>
        <div style="padding: 5px;" >For each item type the quantity sold by the seller</div>
        <div class="row" style="padding: 5px;">
            <div class="col" > <label>Item 1 :  </label>
                <input id="item1" type="number"></div>
        </div>
        <div class="row" style="padding: 5px;width: 50%">
            <div class="col" ><label>Item 2: </label>
                <input id="item2" type="number"></div>
        </div>
        <div class="row" style="padding: 5px;">
            <div class="col" ><label>Item 3 : </label>
            <input id="item3" type="number"></div>
        </div>
        <div class="row" style="padding: 5px;">
            <div class="col" ><label>Item 4 : </label>
            <input id="item4" type="number"></div>
        </div>
        <br>
        <div class="container-left" style="width: 50%;">
            <div class="row">
              <div class="col-2" >
                <b>Item#</b>
              </div>
              <div class="col-2" >
                <b>Price</b>
              </div>
              <div class="col-3">
                <b>Quantity Sold</b>
              </div>
              <div class="col-3">
                <b>Total $</b>
              </div>
            </div>
            <div class="row">
                <div class="col-2">
                  1
                </div>
                <div class="col-2">
                   $20.99
                </div>
                <div class="col-3" style="padding: 2px;">
                    <input id="item1Quantity" readonly style="width: 95%;">
                </div>
                <div class="col-4" style="padding: 2px;">
                    <input  id="item1Total" readonly style="width: 95%;">
                </div>
              </div>
              <div class="row">
                <div class="col-2">
                  2
                </div>
                <div class="col-2">
                  $12.75
                </div>
                <div class="col-3" style="padding: 2px;">
                    <input id="item2Quantity" readonly style="width: 95%;">
                </div>
                <div class="col-4" style="padding: 2px;">
                    <input  id="item2Total" readonly style="width: 95%;">
                </div>
              </div>
              <div class="row">
                <div class="col-2">
                  3
                </div>
                <div class="col-2">
                  $9.95
                </div>
                <div class="col-3" style="padding: 2px;">
                    <input  id="item3Quantity" readonly style="width: 95%;"> 
                </div>
                <div class="col-4" style="padding: 2px;">
                    <input  id="item3Total" readonly style="width: 95%;">
                </div>
              </div>
              <div class="row">
                <div class="col-2">
                  4
                </div>
                <div class="col-2">
                  $35.89
                </div>
                <div class="col-3" style="padding: 2px;">
                    <input id="item4Quantity" readonly style="width: 95%;">
                </div>
                <div class="col-4" style="padding: 2px;">
                    <input   id="item4Total" readonly style="width: 95%;"> 
                </div>
              </div>

              <div class="row">
                <div class="col-7">
                   Total Amount Sold
                </div>
                
                <div class="col-4" style="padding: 2px;">
                    <input  id="totalAmount" style="width: 95%;">
                </div>
              </div>
              <div class="row">
                <div class="col-7" >
                   Total Weekly Earnings
                </div>
                
                <div class="col-4" style="padding: 2px;">
                    <input  id="totalEarnings" style="width: 95%;">
                </div>
              </div>
          </div>
        </br>
        <div id="textArea1" class="container"  style="padding: 10px;" >

        </div>

        <div>
            <button type="button" id="btnProcess" class="btn btn-primary mb-3">Submit</button>
        </div>
        <div>
            <button type="button" id="btnClear"  class="btn btn-primary mb-3">Clear Form</button>
        </div>
        


        <br>
    
          <ul>
           
            <li>
              <a href="hw3_p1.html" >
                Part 1 - Student Grades.
              </a>
            
          </li>
          <li>
          <a href="hw3.html" >
            Back to Homework 3
          </a>
        </li>
          
        <li>
          <a href="page.html" >
            home
          </a>
        </li>
        </ul>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script>
        //   $(document).ready(function() {
        //         $(document).tooltip();
        //     });

        $("#btnProcess").click(function(){
             calculate();
        });

        
        $("#btnClear").click(function(){
             clear1();
        });
        
        function calculate(){
            updateText("");
            if ( $("#sellersName").val().trim() === ""){
                updateText("<span style='color:red; font-weight:bold'>Enter the sellers name.</span><br>");
                return;
            }
     
            let item1 = $("#item1").val();
            let item2 = $("#item2").val();
            let item3 = $("#item3").val();
            let item4 = $("#item4").val();

            
            let itemsArr = [item1,item2, item3, item4];
            
            var rsltText = "";
            for (let i=0; i < itemsArr.length; i++){
                if (!isValidNum(itemsArr[i]) ){
                    rsltText +=  "<span style='color:red; font-weight:bold'>Item " +  (i+1) +  " should be an integer >= 0</span><br>"
                }
            }
         
            if (rsltText.trim() != ""){
                updateText(rsltText);
                return;
            }

            let price1 = 20.99;
            let price2 = 12.75;
            let price3 = 9.95;
            let price4 = 35.89;

            let tot1 = price1 * item1;
            let tot2 = price2 * item2;
            let tot3 = price3 * item3;
            let tot4 = price4 * item4;

            let totAmount = tot1 + tot2 + tot3 + tot4;
            let totEarnings = totAmount * .09 + 250.0;

            $("#item1Quantity").val(item1);
            $("#item2Quantity").val(item2);
            $("#item3Quantity").val(item3);
            $("#item4Quantity").val(item4);

            $("#item1Total").val(tot1.toFixed(2));
            $("#item2Total").val(tot2.toFixed(2));
            $("#item3Total").val(tot3.toFixed(2));
            $("#item4Total").val(tot4.toFixed(2));

            $("#totalAmount").val(totAmount.toFixed(2));
            $("#totalEarnings").val(totEarnings.toFixed(2));

            
        }

        function isValidNum(v1){
            v1 = parseFloat(v1);
            if (!Number.isInteger(v1)) return false;
            if (v1 < 0){
                return fale;
            }
            return true;
        }
        
        function updateText(text){
            let textArea1 =  $("#textArea1");
            textArea1.html(text);
        }

        function clear1(){
            updateText("");

            $("input").each(function() {
                $(this).val("");
            });
            // $("#item1").val("");
            // $("#item2").val("");
            // $("#item2").val("");
            // $("#participationScore").val("");       
        }

    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

  </body>
</html>